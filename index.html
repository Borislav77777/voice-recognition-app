<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        /* –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å—Ç–∏–ª–∏... */

        /* –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è —ç–∫—Ä–∞–Ω–∞ */
        .main-container {
            display: flex;
            gap: 20px;
            max-width: 1600px;
            margin: 0 auto;
            height: 100vh;
            padding: 20px;
        }

        .speech-container, .ai-container {
            flex: 1;
            background-color: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
            max-height: 100%;
            overflow: hidden;
        }

        .model-selector {
            margin-bottom: 20px;
        }

        .model-selector select {
            width: 100%;
            padding: 10px;
            border-radius: 10px;
            border: 2px solid #e0e0e0;
            font-size: 14px;
            background-color: white;
        }

        .chat-container {
            flex: 1;
            overflow-y: auto;
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 15px;
            margin-bottom: 20px;
        }

        .message {
            margin-bottom: 15px;
            padding: 10px 15px;
            border-radius: 10px;
            max-width: 80%;
        }

        .user-message {
            background-color: #3498db;
            color: white;
            margin-left: auto;
        }

        .ai-message {
            background-color: #f0f0f0;
            color: #333;
        }

        .send-button {
            background-color: #2ecc71;
            color: white;
            margin-left: 10px;
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ */
        @media (max-width: 900px) {
            .main-container {
                flex-direction: column;
                height: auto;
            }

            .speech-container, .ai-container {
                width: 100%;
                max-height: none;
            }
        }
    </style>
</head>
<body>
    <div class="main-container">
        <!-- –õ–µ–≤–∞—è —á–∞—Å—Ç—å - –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏ -->
        <div class="speech-container">
            <h1>–†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏</h1>
            <textarea id="output" placeholder="–ó–¥–µ—Å—å –ø–æ—è–≤–∏—Ç—Å—è —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç..."></textarea>
            <div class="buttons">
                <button class="toggle" onclick="toggleRecognition()">üé§ –°—Ç–∞—Ä—Ç</button>
                <button class="clear" onclick="clearText()">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å</button>
                <button class="send-button" onclick="sendToAI()">üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
            </div>
            <div class="status" id="status"></div>
        </div>

        <!-- –ü—Ä–∞–≤–∞—è —á–∞—Å—Ç—å - AI –æ—Ç–≤–µ—Ç—ã -->
        <div class="ai-container">
            <h1>AI –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç</h1>
            <div class="model-selector">
                <select id="ai-model" onchange="changeModel()">
                    <option value="saiga">Saiga (–°–±–µ—Ä)</option>
                    <option value="openassistant">OpenAssistant</option>
                    <option value="huggingface">HuggingFace</option>
                </select>
            </div>
            <div class="chat-container" id="chat">
                <!-- –°–æ–æ–±—â–µ–Ω–∏—è –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –∑–¥–µ—Å—å -->
            </div>
        </div>
    </div>

    <script>
        // –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–µ—á–∏...

        // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å AI
        let currentModel = 'saiga';
        const API_ENDPOINTS = {
            saiga: 'https://api.aicloud.sbercloud.ru/public/v2/boltalka/predict',
            openassistant: 'https://api.openassistant.io/v1/chat',
            huggingface: 'https://api-inference.huggingface.co/models/facebook/blenderbot-400M-distill'
        };

        function changeModel() {
            currentModel = document.getElementById('ai-model').value;
            updateStatus(`–ú–æ–¥–µ–ª—å –∏–∑–º–µ–Ω–µ–Ω–∞ –Ω–∞ ${currentModel}`);
        }

        async function sendToAI() {
            const text = document.getElementById('output').value;
            if (!text) return;

            // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            addMessage(text, 'user');

            try {
                let response;
                switch(currentModel) {
                    case 'saiga':
                        response = await callSaigaAPI(text);
                        break;
                    case 'openassistant':
                        response = await callOpenAssistantAPI(text);
                        break;
                    case 'huggingface':
                        response = await callHuggingFaceAPI(text);
                        break;
                }
                
                // –î–æ–±–∞–≤–ª—è–µ–º –æ—Ç–≤–µ—Ç AI
                addMessage(response, 'ai');
            } catch (error) {
                console.error('Error:', error);
                updateStatus('–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –æ—Ç–≤–µ—Ç–∞');
            }
        }

        function addMessage(text, type) {
            const chat = document.getElementById('chat');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${type}-message`;
            messageDiv.textContent = text;
            chat.appendChild(messageDiv);
            chat.scrollTop = chat.scrollHeight;
        }

        // –ü—Ä–∏–º–µ—Ä—ã —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API
        async function callSaigaAPI(text) {
            // –ó–¥–µ—Å—å –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤—ã–∑–æ–≤–∞ API Saiga
            return "–û—Ç–≤–µ—Ç –æ—Ç Saiga...";
        }

        async function callOpenAssistantAPI(text) {
            // –ó–¥–µ—Å—å –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤—ã–∑–æ–≤–∞ API OpenAssistant
            return "–û—Ç–≤–µ—Ç –æ—Ç OpenAssistant...";
        }

        async function callHuggingFaceAPI(text) {
            // –ó–¥–µ—Å—å –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤—ã–∑–æ–≤–∞ API HuggingFace
            return "–û—Ç–≤–µ—Ç –æ—Ç HuggingFace...";
        }
    </script>
</body>
</html>
